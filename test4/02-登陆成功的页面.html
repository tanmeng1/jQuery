<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>学生信息管理系统</title>   
    <script src="jquery-3.6.0.min.js"></script>
    <script src="mock.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>
    <div class="head">
        学生信息管理系统 v 1.0
        <div class="box1">
            教务中心 |
            系统公告 |
            联系我们
        </div>
        <div class="userInfo">
            TM
            <div class="user_menu">
                <p id="myInfoBtn">账号信息</p>
                <p id="openModalBtn">修改密码</p>              
                <p onclick="toggleUserInfo()">未读消息(0)</p><hr>
                <p id="logoutBtn" onclick="logout()" >退出登录</p>
            </div>               
        </div> 
    </div>
    <!-- 修改密码弹窗 -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>修改信息</h2>
            <label for="newName">新名字：</label><input type="text" id="newName" placeholder="请输入新名字"><br><br>
            <label for="newPassword">新密码：</label><input type="password" id="newPassword" placeholder="请输入新密码"><br><br>
            <label for="confirmPassword">确认密码：</label><input type="password" id="confirmPassword" placeholder="请确认密码"><br><br>
            <p id="errorMsg" style="color:red; font-size: 10px;">注意：请确认新密码，密码必须包含字母、数字、特殊字符，长度在8-16位之间。</p>
            <button id="submitBtn">提交修改</button>
        </div>
    </div>

    <!-- 账号信息弹窗 -->
    <div id="userInfoModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>账号信息</h2>
            <div class="user-details">
                <p><strong>用户名：</strong> 张三</p>
                <p><strong>邮箱：</strong> zhangsan@example.com</p>
                <p><strong>联系方式：</strong> 13812345678</p>
                <p><strong>班级：</strong> 2019级软件技术4班</p>
            </div>
        </div>
    </div>


    <!-- 添加学生弹窗 -->
    <div id="addStudentModal" class="modal">
        <div class="modal-content">
            <span class="close1">&times;</span>
            <h2>添加学生</h2>
            <label for="studentName">姓名：</label> 
            <input type="text" id="studentName" placeholder="请输入姓名"><br><br>
            <label for="gender">性别：</label>
            <input type="text" id="gender" placeholder="请输入性别"><br><br>
            <label for="age">年龄：</label>
            <input type="text" id="age" placeholder="请输入年龄"><br><br>
            <label for="class">班级：</label> 
            <input type="text" id="class" placeholder="请输入班级"><br><br>
            <button id="addStudentSubmit">提交</button>
        </div>
    </div>

    <!-- 修改用户信息模态框 -->
        <div id="editUserModal" class="modal" style="display:none;">
            <div class="modal-content">
                <span class="close" onclick="closeEditModal()">&times;</span>
                <h2>修改用户信息</h2>
                <label for="editName">姓名：</label>
                <input type="text" id="editName" placeholder="请输入姓名"><br><br>
                <label for="editAge">年龄：</label>
                <input type="number" id="editAge" placeholder="请输入年龄"><br><br>
                <label for="editSex">性别：</label>
                <input type="text" id="editSex" placeholder="请输入性别"><br><br>
                <label for="editClass">班级：</label>
                <input type="text" id="editClass" placeholder="请输入班级"><br><br>
                <button id="saveBtn">保存</button>
            </div>
        </div>

        <!-- 删除用户确认模态框 -->
        <div id="deleteUserModal" class="modal" style="display:none;">
            <div class="modal-content">
                <span class="close" onclick="closeDeleteModal()">&times;</span>
                <h2>确认删除</h2>
                <p>确认删除吗？</p>
                <button id="deleteBtn">确认</button>
            </div>
        </div>
    <div class="container1">
        <div class="menu">
            <ul>
                    <li>
                        <a href="#personalCenter" class="menu-item">＋ 个人中心</a>
                        <ul class="submenu">
                            <li id="myInfo"><a href="#myInfo"><img src="img/我.png" alt="个人中心">&nbsp;我的信息</a></li>
                            <li id="classInfo"><a href="#classInfo"><img src="img/班级信息.png" alt="班级信息">&nbsp;班级信息</a></li>
                        </ul> 
                    </li>
                    <li>
                        <a href="#home" class="menu-item">＋ 教务中心</a>
                        <ul class="submenu">
                            <li id="myAdmissions"><a href="#myAdmissions"><img src="img/报考.png" alt="报考">&nbsp;我的报考</a></li>
                            <li id="myGrades"><a href="#myGrades"><img src="img/成绩.png" alt="成绩">&nbsp;我的成绩</a></li>
                            <li id="myBooks"><a href="#myBooks"><img src="img/书籍.png" alt="书籍">&nbsp;我的书籍</a></li>
                        </ul>
                    </li>
                <li>
                    <a href="#contact" class="menu-item">＋ 学习中心</a>
                    <ul class="submenu">
                        <li id = "myCourses"><a href="#myCourses"><img src="img/课程表.png" alt="课程">&nbsp;我的课程</a></li>
                        <li id="myAssignments"><a href="#"><img src="img/作业.png" alt="作业">&nbsp;我的作业</a></li>
                        <li id="myExams"><a href="kaoshi.html"><img src="img/考试.png" alt="考试">&nbsp;我的考试</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#contact" class="menu-item">＋ 财务中心</a>
                    <ul class="submenu">
                            <li id="myFinance"><a href="#"><img src="img/财务.png" alt="财务">&nbsp;我的财务</a></li>
                    </ul>
                </li>
            </ul>
        </div>

        <div id="content" class="content-container">
            <h2>欢迎使用学生信息管理系统  </h2>
            <div class="welcome-box">
                <h3>系统功能概述</h3>
                <ul>
                    <li>个人中心：查看和修改个人信息。</li>
                    <li>教务中心：查询当前的报考状态和成绩。</li>
                    <li>学习中心：查看课程、作业和考试信息。</li>
                    <li>财务中心：管理缴费信息与财务状态。</li>
                </ul>
            </div>
        
            <div class="news-section">
                <h3>最新公告</h3>
                <ul>
                    <li>2024-01-15：新学期课程安排已发布，请及时查看。</li>
                    <li>2024-01-10：寒假期间，教务处将于1月20日和1月25日开放。</li>
                    <li>2024-01-05：新的财务管理系统上线，请更新您的个人信息以保障顺利缴费。</li>
                </ul>
            </div>
        
            <div class="tips-section">
                <h3>使用小贴士 </h3>
                <p>在使用系统时，请确认个人信息的准确性，确保您的联系方式是最新的。任何问题请联系系统管理员。</p>
                <div>
                    <button id="btn">提交反馈</button>
                </div>
            
                <!-- 模态弹窗 -->
                <div id="myModal" class="modal">
                    <div class="modal-content1">
                        <p>请输入您的反馈：</p>
                        <textarea id="feedback" placeholder="在这里输入反馈..."></textarea>
                        <button id = "close" class="submit-btn">关闭</button>
                        <button class="submit-btn" id="submitFeedback">提交</button>
                    </div>
                </div>
            
                   
            </div>
        </div>  
        <script>

            function logout() {
                if (confirm("您确定要退出登录吗？")) {
                    window.location.href = '01-登录注册页面.html'; 
                }
            }
            function toggleUserInfo() {
                try {
                    console.log("未读消息功能已触发");
                } catch (error) {
                    console.error("切换未读消息时发生错误:", error);
                }
            }
                          </script>
        
    <script type="text/javascript">
        $(document).ready(function() {
            $('.menu-item').click(function(event) {
                event.preventDefault(); 
                $(this).next('.submenu').slideToggle(); 
            });

            $('.menu').on('click', '.submenu li a', function(event) {
                event.preventDefault();
                const contentId = $(this).parent().attr('id');
                let contentHtml = "";
                switch(contentId) {
                    case "myInfo":
                        contentHtml = `<p class='box3'>我的信息</p><br>
                       
                                       <div class='box2'>个人资料：
                                       
                                        姓名：张三<br>
                                        性别：男<br>
                                        年龄：20<br>
                                        班级：2019级软件技术4班<br>
                                        邮箱：zhangsan@example.com<br>
                                        家庭住址：重庆cq区12号楼101<br>
                                        身份证号码：123456789012345678<br>
                                        联系方式：13812345678<br> 
                                        <a href='03-我的信息.html'> 点击查看我的成绩信息</a><br>
                                        </div>
                                     `     
                        break;
                    case "classInfo": 
                         contentHtml = `                         
                    <h2>班级信息<button id='addStudent'>+ 添加学生</button></h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>姓名</th>
                                    <th>年龄</th>
                                    <th>性别</th>
                                    <th>班级</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                        <tbody class='box'></tbody>
                    </table>`

                 Mock.mock('/mockTest', {
                    "userInfo|12": [
                        {
                            "id|+1": 1,
                            "name": "@cname",
                            "age|18-25":20,
                            "sex|1": ["男", "女"],
                            "class1|1": ["软件工程"],     
                            "img_info|3": Mock.Random.image('100x100'),
                            "ListInfo|3": [{
                                "img": Mock.Random.image('100x100')
                            }]
                        }
                    ]
                });

                // ajax接收数据，通过jq
                $.get('/mockTest')
                    .done(function(data) {
                        try {
                            var users = JSON.parse(data);
                            console.log(data);
                            if (users && users.userInfo) {
                                console.log(users.userInfo);
                                var html = users.userInfo.map(item => 
                                    `<tr>
                                        <td>${item.id}</td>
                                        <td>${item.name}</td>
                                        <td>${item.age}</td>
                                        <td>${item.sex}</td>
                                        <td>${item.class1}</td>
                                        <td>
                                            <button 
                                            class='editBtn' onclick='openEditModal(${item.id}, "${item.name}", ${item.age}, "${item.sex}", "${item.class1}")'>
                                                <img src="bootstrap-icons-1.11.3/brush.svg" width="20" height="20">&nbsp;编辑</button>&nbsp;&nbsp;
                                            <button
                                            class='deleteBtn' onclick='openDeleteModal(${item.id})'>
                                                <img src="bootstrap-icons-1.11.3/archive.svg" width="20" height="20">&nbsp;删除</button>
                                        </td>
                                   </tr>`
                                    ).join('');
                                    console.log($(".box"))
                                    $(".box").append(html);
                                } else {
                                    console.error('用户数据格式错误', users);
                                }
                            } catch (error) {
                                console.error('解析数据错误', error);
                            }
                        })
                        .fail(function(jqXHR, textStatus, errorThrown) {
                            console.error('请求数据失败', textStatus, errorThrown);
                        }) 
                        
                        break;
                    case "myAdmissions":
                        contentHtml = `<p class='box3'>我的选课</p>
                        <div class='box6'>注意：请仔细核对报考信息，如有错误请联系管理员。</div>
                        <table>
                            <thead >
                                <tr>
                                    <th>选课时间</th>
                                    <th>选课编号</th>
                                    <th>选课科目</th>
                                    <th>状态</th>
                                </tr>
                            </thead>
                            <tbody class='box'></tbody>
                        </table> ` 

                        Mock.mock('/mockTest', {
                         "userInfo|10": [
                             {
                            "date|1":["2021-01-01","2021-01-02","2021-01-03","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15"],
                            "number|1":["2021010101","2021010102","2021010103","2021010108","2021010109","2021010110","2021010111","2021010112","2021010113","2021010114","2021010115"] ,
                            "subject|1":["计算机网络","软件工程","web前端开发","数据库原理","操作系统原理","马克思主义原理","计算机网络原理"],
                            "state|1":["通过","不通过"],                        
                            "img_info|3": Mock.Random.image('100x100'),
                            "ListInfo|3": [{
                                "img": Mock.Random.image('100x100')
                            }]
                        }
                    ]
                });

                // ajax接收数据，通过jq
                        $.get('/mockTest')
                            .done(function(data) {
                                try {
                                    var users = JSON.parse(data);
                                    console.log(data);
                                    if (users && users.userInfo) {
                                        console.log(users.userInfo);
                                        var html = users.userInfo.map(item => 
                                    `<tr>
                                        <td>${item.date}</td>
                                        <td>${item.number}</td>
                                        <td>${item.subject}</td>
                                        <td>${item.state}</td>
                                   </tr>`
                                    ).join('');
                                    console.log($(".box"))
                                    $(".box").append(html);
                                } else {
                                    console.error('用户数据格式错误', users);
                                }
                            } catch (error) {
                                console.error('解析数据错误', error);
                            }
                        })
                        .fail(function(jqXHR, textStatus, errorThrown) {
                            console.error('请求数据失败', textStatus, errorThrown);
                        });                         
                        break;

                    case "myGrades":
                        contentHtml = `<p class='box3'>我的成绩</p>
                        <div class="box6">注意：请仔细核对成绩信息，如有错误请联系管理员。</div>
                        <table>
                            <thead >
                            <tr>
                                <th>课程名称</th>
                                <th>学分</th>
                                <th>课程性质</th>
                                <th>成绩</th>
                            </tr>
                            </thead>  
                         <tbody class='box'></tbody>                     
                        </table> `
                        Mock.mock('/mockTest', {
                    "userInfo|14": [
                             {
                            "course|1":["计算机网络","软件工程","web前端开发","数据库原理","操作系统原理","马克思主义原理","计算机网络原理"],
                            "credit|1-3":1 ,
                            "curriculum|1":["必修课","选修课"],
                            "score|60-100":60,
                            
                            "img_info|3": Mock.Random.image('100x100'),
                            "ListInfo|3": [{
                                "img": Mock.Random.image('100x100')
                            }]
                        }
                    ]
                });

        // ajax接收数据，通过jq
                $.get('/mockTest')
                    .done(function(data) {
                        try {
                            var users = JSON.parse(data);
                            console.log(data);
                            if (users && users.userInfo) {
                                console.log(users.userInfo);
                                var html = users.userInfo.map(item => 
                                    `<tr>
                                        <td>${item.course}</td>
                                        <td>${item.credit}</td>
                                        <td>${item.curriculum}</td>
                                        <td>${item.score}</td>
                                   </tr>`
                                    ).join('');
                                    console.log($(".box"))
                                    $(".box").append(html);
                                } else {
                                    console.error('用户数据格式错误', users);
                                }
                            } catch (error) {
                                console.error('解析数据错误', error);
                            }
                        })
                        .fail(function(jqXHR, textStatus, errorThrown) {
                            console.error('请求数据失败', textStatus, errorThrown);
                        });

                        
                        break;
                    case "myBooks":
                        contentHtml = `
                        
                        <p class='box3'>我的书籍</p>
                        <div class="box6">注意：请仔细核对书籍信息，如有错误请联系管理员。</div>
                         <table>
                            <thead >
                            <tr>
                                <th>编号</th>
                                <th>书籍名称</th>
                                <th>发放数量</th>
                                <th>发售日期</th>
                                <th>操作</th>
                            </tr>
                            </thead>  
                            <tbody class='box'></tbody>                     
                        </table> `

                        Mock.mock('/mockTest', {
                    "userInfo|10": [
                        {
                            "id|1-10":4,
                            "book|1":["计算机网络原理","软件工程原理","web前端开发","数据库原理","操作系统原理","马克思主义原理","计算机网络原理"] ,
                            "number|2-30":10,
                            "date|1":["2021-01-01","2021-01-02","2021-01-03","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15"],
                            
                            "img_info|3": Mock.Random.image('100x100'),
                            "ListInfo|3": [{
                                "img": Mock.Random.image('100x100')
                            }]
                        }
                    ]
                });

                // ajax接收数据，通过jq
                        $.get('/mockTest')
                            .done(function(data) {
                            try {
                            var users = JSON.parse(data);
                            console.log(data);
                            if (users && users.userInfo) {
                                console.log(users.userInfo);
                                var html = users.userInfo.map(item => 
                                    `<tr>
                                        <td>${item.id}</td>
                                        <td>${item.book}</td>
                                        <td>${item.number}</td>
                                        <td>${item.date}</td>
                                        <td><button class='deleteBtn' onclick='openDeleteModal(${item.id})'>
                                              <img src="bootstrap-icons-1.11.3/archive.svg" width="20" height="20">&nbsp;删除</button></td>
                                   </tr>`
                                    ).join('');
                                    console.log($(".box"))
                                    $(".box").append(html);
                                } else {
                                    console.error('用户数据格式错误', users);
                                }
                            } catch (error) {
                                console.error('解析数据错误', error);
                            }
                        })
                        .fail(function(jqXHR, textStatus, errorThrown) {
                            console.error('请求数据失败', textStatus, errorThrown);
                        });
                        break;
                            case "myCourses":
                                contentHtml = `
                                <p class='box3'>我的课程</p>
                                <div class="box6">注意：请仔细核对课程信息，如有错误请联系管理员。</div>
                                <table>
                                    <thead >
                                    <tr>
                                        <th>编号</th>
                                        <th>课程名称</th>
                                        <th>开课时间</th>
                                        <th>结束时间</th>
                                        <th>操作</th>
                                    </tr>
                                    </thead>
                                    <tbody class='box'></tbody>    
                                </table>`

                                Mock.mock('/mockTest', {
                              "userInfo|8": [
                                   {
                                    "id|+1":1,
                                    "schoolassignment|1":["计算机网络","软件工程","web前端开发","数据库原理","操作系统原理","马克思主义原理","计算机网络原理"],                             
                                    "date|1":["2021-01-01","2021-01-02","2021-01-03","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15"],
                                    "date|1":["2021-02-01","2021-02-02","2021-02-03","2021-02-08","2021-02-09","2021-02-10","2021-02-11","2021-02-12","2021-02-13","2021-02-14","2021-02-15"],
                                    "img_info|3": Mock.Random.image('100x100'),
                                    "ListInfo|3": [{
                                    "img": Mock.Random.image('100x100')
                            }]
                        }
                    ]
                });

                // ajax接收数据，通过jq
                        $.get('/mockTest')
                            .done(function(data) {
                            try {
                            var users = JSON.parse(data);
                            console.log(data);
                            if (users && users.userInfo) {
                                console.log(users.userInfo);
                                var html = users.userInfo.map(item => 
                                    `<tr>
                                        <td>${item.id}</td>
                                        <td>${item.schoolassignment}</td>
                                        <td>${item.date}</td>              
                                        <td>${item.date}</td>
                                        <td><button class='deleteBtn' onclick='openDeleteModal(${item.id})'>
                                              <img src="bootstrap-icons-1.11.3/archive.svg" width="20" height="20">&nbsp;删除</button></td>
                                   </tr>`
                                    ).join('');
                                    console.log($(".box"))
                                    $(".box").append(html);
                                } else {
                                    console.error('用户数据格式错误', users);
                                }
                            } catch (error) {
                                console.error('解析数据错误', error);
                            }
                        })
                        .fail(function(jqXHR, textStatus, errorThrown) {
                            console.error('请求数据失败', textStatus, errorThrown);
                        });
                        break;


                                
                            case "myAssignments":
                                contentHtml = `
                                <p class='box3'>我的作业</p>
                                <div class="box6">注意：请仔细核对作业信息，如有错误请联系管理员。</div>
                                <table>
                                            <thead >
                                    <tr>
                                        <th>编号</th>
                                        <th>作业名称</th>
                                        <th>发布日期</th>
                                        <th>截止日期</th>
                                        <th>操作</th>  
                                    </tr>
                                    </thead>  
                                    <tbody class='box'></tbody>                     
                                   <table>`


                                    Mock.mock('/mockTest', {
                              "userInfo|8": [
                                   {
                                    "id|+1":1,
                                    "schoolassignment|1":["作业1","作业2","作业3"],                             
                                    "date|1":["2021-01-01","2021-01-02","2021-01-03","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15"],
                                    "date|1":["2021-02-01","2021-02-02","2021-02-03","2021-02-08","2021-02-09","2021-02-10","2021-02-11","2021-02-12","2021-02-13","2021-02-14","2021-02-15"],
                                    "img_info|3": Mock.Random.image('100x100'),
                                    "ListInfo|3": [{
                                    "img": Mock.Random.image('100x100')
                            }]
                        }
                    ]
                });

                // ajax接收数据，通过jq
                        $.get('/mockTest')
                            .done(function(data) {
                            try {
                            var users = JSON.parse(data);
                            console.log(data);
                            if (users && users.userInfo) {
                                console.log(users.userInfo);
                                var html = users.userInfo.map(item => 
                                    `<tr>
                                        <td>${item.id}</td>
                                        <td>${item.schoolassignment}</td>
                                        <td>${item.date}</td>              
                                        <td>${item.date}</td>
                                        <td><button class='deleteBtn' onclick='openDeleteModal(${item.id})'>
                                              <img src="bootstrap-icons-1.11.3/archive.svg" width="20" height="20">&nbsp;删除</button></td>
                                   </tr>`
                                    ).join('');
                                    console.log($(".box"))
                                    $(".box").append(html);
                                } else {
                                    console.error('用户数据格式错误', users);
                                }
                            } catch (error) {
                                console.error('解析数据错误', error);
                            }
                        })
                        .fail(function(jqXHR, textStatus, errorThrown) {
                            console.error('请求数据失败', textStatus, errorThrown);
                        });
                        break;

                                
                            case "myExams":
                                        contentHtml = `
                                        <p class='box3'>我的考试</p>
                                          <a href="02-kaoshi.html" class="btn btn-primary">点击查看考试成绩详情</a>
                                                <!-- 考试信息 -->
                                                    <div class="welcome-box">
                                                        <strong>考试信息</strong>
                                                            <p><strong>科目：</strong>数学</p>
                                                            <p><strong>考试时间：</strong>2024年1月15日 09:00</p>
                                                            <p><strong>考试地点：</strong>教室101</p>
                                                            <p><strong>考试形式：</strong>线下</p>
                                                    </div>`
                                        break;
                            case "myFinance":
                                        contentHtml = `
                                       <p class='box3'>我的财务</p>
                                        <div class="box6">注意：请仔细核对财务信息，如有错误请联系管理员。</div>
                                        <a href="03-财务.html">点击查看财务详情！</a>`
                                        break;

                    default:
                        contentHtml = "<h2>欢迎使用学生信息管理系统</h2><p>请选择左侧菜单。</p>";
                }

                $('#content').html(contentHtml);


                // 添加学生事件
                // $('#addStudent').off('click').on('click', function() {
                //     $('#addStudentModal').show();
                // });
                $(document).ready(function() {
    // 添加学生事件
    $('#addStudent').off('click').on('click', function() {
        $('#addStudentModal').show(); // 显示弹窗
    });

    // 关闭弹窗事件
    $('.close1').off('click').on('click', function() {
        $('#addStudentModal').hide(); // 隐藏弹窗
    });

    // 点击弹窗外部区域时关闭弹窗
    $(window).on('click', function(event) {
        if ($(event.target).is('#addStudentModal')) {
            $('#addStudentModal').hide(); // 隐藏弹窗
        }
    });

    // 提交学生信息
    $('#addStudentSubmit').off('click').on('click', function() {
        var studentName = $('#studentName').val();
        var gender = $('#gender').val();
        var age = $('#age').val();
        var className = $('#class').val();
        
        // 获取当前学生数量以生成ID
        var newId = $('.box tr').length + 1;

        if (studentName === "" || gender === "" || age === "" || className === "") {
            alert("请填写所有字段。"); // 验证输入
        } else {
            // 添加信息到表格
            $('.box').append(
                '<tr>' +
                    '<td>' + newId + '</td>' +
                    '<td>' + studentName + '</td>' +
                    '<td>' + age + '</td>' +
                    '<td>' + gender + '</td>' +
                    '<td>' + className + '</td>' +
                    '<td><button class="editBtn" onclick="openEditModal(${item.id}, "${item.name}", ${item.age}, "${item.sex}", "${item.class1}")">编辑</button>&nbsp;&nbsp;&nbsp;<button class="deleteBtn" onclick="openDeleteModal(${item.id})">删除</button></td>' +
                    '' +
                '</tr>'
            );

            $('#addStudentModal').hide(); // 关闭弹窗
            // 清空输入框
            $('#studentName').val('');
            $('#gender').val('');
            $('#age').val('');
            $('#class').val('');
        }
    });

    // 删除学生事件
    $('.box').on('click', '.deleteStudent', function() {
        $(this).closest('tr').remove(); // 删除对应学生行
    });
});


              
 });    

            // 弹窗功能
            const modal = $('#modal');
            const openModalBtn = $('#openModalBtn');

            openModalBtn.on('click', function() {
                modal.show();
            });

            $('.close, .close1').on('click', function() {
                modal.hide();
                $('#addStudentModal').hide();
                $('#studentForm').hide();
            });

            $(window).on('click', function(event) {
                if (event.target === modal[0] || event.target === $('#addStudentModal')[0] || event.target === $('#studentForm')[0]) {
                    modal.hide();
                    $('#addStudentModal').hide();
                    $('#studentForm').hide();
                }
            });

            $('#submitBtn').on('click', function() {
                const newName = $('#newName').val();
                const newPassword = $('#newPassword').val();
                const confirmPassword = $('#confirmPassword').val();
                
                // 添加简单的错误处理
                if (!newName || !newPassword || newPassword !== confirmPassword) {
                    alert('请检查输入，确保新密码与确认密码一致！');
                    return;
                }
                console.log('新名字:', newName, '新密码:', newPassword);
                modal.hide();
            }); 
        });

        $(document).ready(function() {
                $('#myInfoBtn').on('click', function() {
                    $('#userInfoModal').show();
                });

                // 关闭用户信息弹窗
                $('.close').on('click', function() {
                    $('#userInfoModal').hide();
                });   
                $(window).on('click', function(event) {
                    if (event.target === $('#userInfoModal')[0]) {
                        $('#userInfoModal').hide();             
                }
            });
        });

        function deleteStudent(button) {
            const row = button.parentElement.parentElement;
            row.parentNode.removeChild(row);

        }       
    </script> 

            <script>
                let currentUserIdToEdit = null; // 当前正在编辑的用户ID
                function openEditModal(userId, name, age, sex, class1) {
                    currentUserIdToEdit = userId; // 保存用户ID
                    $('#editName').val(name); // 填充用户信息
                    $('#editAge').val(age);
                    $('#editSex').val(sex);
                    $('#editClass').val(class1);             
                    $('#editUserModal').show(); // 显示修改模态框
                }
                function closeEditModal() {
                    $('#editUserModal').hide(); // 隐藏修改模态框
                }
                function saveUser() {
                    const name = $('#editName').val(); // 获取输入的值
                    const age = $('#editAge').val();
                    const sex = $('#editSex').val();
                    const class1 = $('#editClass').val();

                    const row = $(`tr:has(td:contains(${currentUserIdToEdit}))`);
                    
                    if (name && age && sex) {
                        row.children().eq(1).text(name);
                        row.children().eq(2).text(age);
                        row.children().eq(3).text(sex);
                        row.children().eq(4).text(class1);
                        alert("用户信息已保存。");
                        closeEditModal(); // 关闭模态框
                    } else {
                        alert("请确保所有字段都有填写。");
                    }
                }

                // 为保存按钮绑定事件
                $('#saveBtn').click(saveUser);         
              </script>

              <script>
                let currentUserIdToDelete = null; // 当前要删除的用户ID

                function openDeleteModal(userId) {
                    currentUserIdToDelete = userId; // 保存要删除的用户ID
                    $('#deleteUserModal').show(); // 显示删除确认模态框
                }

                function closeDeleteModal() {
                    $('#deleteUserModal').hide(); // 隐藏删除确认模态框
                }

                function confirmDeleteUser() {
                // 直接从删除按钮的上下文寻找要删除的行
                const row = $(`tr`).filter(function() {
                    return $(this).find('td').first().text() == currentUserIdToDelete; // 根据 ID 匹配行
                });

                if (row.length) {
                    row.remove(); // 删除对应行
                    alert("已删除。"); // 提示用户
                } else {
                    alert("未找到。"); 
                }

                closeDeleteModal(); // 关闭模态框
            }
                // 为确认删除按钮绑定事件
                $('#deleteBtn').click(confirmDeleteUser);
              </script>

                    <script>
                            // 获取模态弹窗和按钮
                        const modal = document.getElementById("myModal");
                        const btn = document.getElementById("btn");
                        const closeBtn = document.getElementById("close");
                        const submitFeedback = document.getElementById("submitFeedback");
                        const feedbackInput = document.getElementById("feedback");

                        // 点击按钮时打开模态弹窗
                        btn.onclick = function() {
                            modal.style.display = "block";
                        }

                        // 点击关闭按钮时关闭模态弹窗
                        closeBtn.onclick = function() {
                            modal.style.display = "none";
                        }

                        // 点击模态弹窗外部也关闭模态弹窗
                        window.onclick = function(event) {
                            if (event.target === modal) {
                                modal.style.display = "none";
                            }
                        }

                        // 点击提交按钮时处理反馈
                        submitFeedback.onclick = function() {
                            const feedback = feedbackInput.value;
                            if (feedback) {
                                alert("您的反馈已提交:\n" + feedback);
                                feedbackInput.value = ""; // 清空输入框
                                modal.style.display = "none"; // 关闭弹窗
                            } else {
                                alert("请输入反馈内容！"); // 提示用户输入内容
                            }
                        }

                  </script>
   
              

    <style>
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }
        .right {

            float: right;
            margin-right: 10px;
        
        }
        body {
            background-color: #f7e5f6; 
            font-family: Arial, sans-serif;
        }
        menu,img {
            height: 18px;
            width: 18px;
        }

        .box-title {
            margin-bottom: 20px;
            text-align: center;
            color: #4a4a4a;
        }
        .box2 {
            font-size: 20px; /* 字体大小 */
            font-weight: 500; /* 设置稍微加粗 */
            line-height: 1.6; /* 行高，增加可读性 */
            padding: 60px 40px; /* 内边距 */
            float: left; /* 浮动 */
            margin-left: 250px; /* 左边距 */
            background-color: #bbd0a6; /* 背景色 */
            width: 400px; /* 宽度 */
            height: 400px; /* 高度 */
            border-radius: 7px; /* 圆角 */
            border: solid 1px #ccc; /* 边框 */
            margin-bottom: 20px; /* 下边距 */
            color: #4a4a4a; /* 字体颜色 */
            text-align: left; /* 左对齐文本 */
            padding-top: 40px; /* 顶部边距 */
        }



        .box6 {
            padding: 10px;
            font-size: 14px;
            color: red;
        }
        .box3 {
            border: #7fc470 solid 1px;
            padding: 5px;
            width: 100px;
            text-align: center;
            border-radius: 30px;
            margin-bottom: 5px;
            color: #4a4a4a;
        }
        .box4 input[type="text"] {
            padding: 10px;
            border-radius: 20px;
            border: 1px solid #ccc;
            width: 200px;
        }
        .box4 button {
            background-color: #7fc470;
            color: #ffffff;
            border: none;
            padding: 6px 8px;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 10px;
        }
        .box5 {
            background-color: #a7c992;
            color: #4a4a4a;
        }
        .deleteBtn {
            background-color: red;
            color: #ffffff;
            border: none;
            padding: 4px 6px;
            border-radius: 5px;
            cursor: pointer;
        }
        .editBtn{
            background-color: red;
            color: #ffffff;
            border: none;
            padding: 4px 6px;
            border-radius: 5px;
            cursor: pointer;
        }
        .form-group {
             background-color: #fefefe;
             margin: 15% auto;
             padding: 40px;
             border: 1px solid #888;
             width: 40%; 
             height: 50%;
             border-radius: 5px;
         }
        .close1 {
             color: #aaa;
             float: right;
             font-size: 28px;
             font-weight: bold;
         }
        .close1:hover,
        .close1:focus {
             color: black;
             text-decoration: none;
             cursor: pointer;
         }
        .box1 {
            color: #3555e3;
            font-size: 14px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 30px;
            border: 1px solid #ffffff;
            position: absolute;
            top: 25px;
            right: 100px;
            padding: 0 10px;
            border-radius: 5px;
        }
        #submitBtn {
            margin: 5px;
            background-color: #3555e3;
            color: #ffffff;
            border: none;
            padding: 6px 8px;
            border-radius: 5px;
            cursor: pointer;
        }
        .head {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 60px;
            background: linear-gradient(45deg, #9ccc7f, #f7e5f6);
            color: #ffffff;
            font-size: 28px;
            position: relative;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
        }
        .userInfo { 
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(45deg, #e797e2, #eaeee8);
            position: absolute;
            right: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer; 
        }
        .user_menu {
            width: 100px;
            display: none;
            background-color: thistle;
            color: black;
            position: absolute;
            top: 54px;
            right: 0;
            font-size: 12px;
            padding: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 5px;
        }
        .userInfo:hover .user_menu {
            display: block;
        }
        .user_menu p {
            margin: 0;
            padding: 5px;
            text-align: center;
            cursor: pointer;
            transition: background 0.3s;
        }
        .user_menu p:hover {
            background-color: #c09de5; 
        }
        .container1 {
            display: flex;
            height: calc(100vh - 60px); 
        }
        .menu {
            background: linear-gradient(45deg, #f7e5f6, #a7c992);
            flex: 1; 
            padding: 20px; 
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
            border-right: 2px solid #eaeaea; 
        }
        .menu ul {
            list-style-type: none; 
        }
        .menu li {
            margin: 10px 0; 
        }
        .menu a {
            display: block;
            padding: 10px;
            color: #4a4a4a;
            text-decoration: none;
            transition: background-color 0.3s;
        }
        .menu a:hover {
            color: #b181de; 
            background-color: #e0e0e0; 
        }
        .submenu {
            display: none; 
            padding-left: 20px; 
        } 
        #content {
            background: linear-gradient(45deg, #ccdbc4, #e8dce8);
            flex: 7; 
            padding: 20px; 
            color: #4a4a4a;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.1); 

        }
        .content-container {
        padding: 20px;
        background-color: #f8f8f8;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    h2 {
        color: #3555e3;
        text-align: center;
    }

    .welcome-box, .news-section, .tips-section {
        background-color: #ffffff;
        border-radius: 5px;
        padding: 15px;
        margin: 15px 0;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    h3 {
        color: #4a4a4a;
        margin-bottom: 10px;
    }

    ul {
        list-style-type: disc;
        padding-left: 20px;
    }

    li {
        margin: 5px 0;
    }

    p {
        color: #333;
        line-height: 1.6;
    }


        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        form {
            margin-bottom: 20px;
        }
        h2 {
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 40px;
            background-color: #f2f2f2;
            color: #4a4a4a;
            font-size: 20px;
            border-radius: 5px; 
            padding: 0 10px;
        }
        #addStudent {
            margin: 10px 0;
            padding: 5px 10px;
            border-radius: 5px;
            background-color: #7fc470;
            border: 1px solid #ffffff;
            color: black;
            font-size: 8px;
            cursor: pointer;
            margin-left: 40px;
        }
        #addStudent:hover {
            background-color: #9acf98; 
        }
        #studentTable th{  
            background-color: #bed7bd;
            color: #4a4a4a;
            font-size: 16px;
            text-align: center; 
        }
        
        /* 弹窗样式 */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }  

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 30%;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        #btn {
            background-color: #2e7cb3;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
        }
        /* 弹窗内容 */
        .modal-content1 {
            background-color: #fefefe;
            margin: 15% auto; /* 中心位置 */
            padding: 20px;
            border: 1px solid #888;
            width: 50%; /* 宽度 */
            height: 50%; /* 高度 */
            text-align: center;
        }

              /* 输入区域样式 */
        textarea {
            width: 60%;
            height: 60%;
            margin-top: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            resize: none; /* 禁止调整大小 */
        }

        /* 提交按钮 */
        .submit-btn {
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            padding: 5px 10px;      
        }

        .studentForm {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }
        .form-group {
             background-color: #fefefe;
             margin: 15% auto;
             padding: 40px;
             border: 1px solid #888;
             width: 40%; 
             height: 50%;
             border-radius: 5px;
         }
        .close1 {
             color: #aaa;
             float: right;
             font-size: 28px;
             font-weight: bold;
         }
        .close1:hover,
        .close1:focus {
             color: black;
             text-decoration: none;
             cursor: pointer;
         }
         .user-info {
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
            display: none; /* 默认隐藏用户信息 */
        }


    </style>
</body>
</html>
